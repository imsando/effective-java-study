# ê°€ë³€ì¸ìˆ˜(varargs)ì™€ ì œë„¤ë¦­ì— ëŒ€í•´ì„œ

## â›³ï¸ ëª©í‘œ

- ê°€ë³€ì¸ìˆ˜ì™€ ì œë„¤ë¦­ì˜ ì¡°í•©ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ ì´í•´í•˜ê³  ì´ë¥¼ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ìµíˆì

<br>

## ğŸ“„ í•µì‹¬ ìš”ì•½

***ê°€ë³€ì¸ìˆ˜ë€?***

- **ê°€ë³€ì¸ìˆ˜(Varargs)** ëŠ” ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì„ì˜ ê°œìˆ˜ì˜ ì¸ìˆ˜ë¥¼ ë°›ì„ ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤
- ë©”ì„œë“œ í˜¸ì¶œ ì‹œ ì „ë‹¬í•˜ëŠ” ì¸ìˆ˜ì˜ ê°œìˆ˜ë¥¼ ê³ ì •í•˜ì§€ ì•Šê³  ë‹¤ì–‘í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤
- ìë°”ì—ì„œëŠ” `...` ë¬¸ë²•ì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•œë‹¤

```java
public static int sum(int... numbers) {
    int total = 0;
    for (int num : numbers) {
        total += num;
    }
    return total;
}

public static void main(String[] args) {
    System.out.println(sum(1, 2, 3));        // ì¶œë ¥: 6
    System.out.println(sum(4, 5, 6, 7, 8)); // ì¶œë ¥: 30
}
```

<br>

---

### **1. ê°€ë³€ì¸ìˆ˜ì™€ ì œë„¤ë¦­ì˜ ë¬¸ì œì **

- **ê°€ë³€ì¸ìˆ˜ ë©”ì„œë“œ**ëŠ” í˜¸ì¶œ ì‹œ **ì¸ìˆ˜ë“¤ì„ ë°°ì—´ì— ë‹´ì•„ ì²˜ë¦¬**í•˜ì§€ë§Œ ì´ ë°°ì—´ì´ **ì™¸ë¶€ì— ë…¸ì¶œ**ë  ìˆ˜ ìˆë‹¤
- **ì œë„¤ë¦­ì˜ íƒ€ì… ì†Œê±°**ì™€ ë°°ì—´ì˜ **ì‹¤ì²´í™” íŠ¹ì„±**ì´ ì¶©ëŒí•˜ê²Œ ëœë‹¤
    - ì œë„¤ë¦­ varargsëŠ” ì»´íŒŒì¼ëŸ¬ ê²½ê³ ë¥¼ ë°œìƒì‹œí‚¤ë©° **íƒ€ì… ì•ˆì „ì„±ì´ ê¹¨ì§ˆ ìœ„í—˜**ì´ ìˆë‹¤
    - **ì˜ˆì‹œ ê²½ê³ ** : `Possible heap pollution from parameterized vararg type`

#### **2. í™ ì˜¤ì—¼ ë°œìƒ**

```java
static <T> T[] toArray(T... args) {
    return args; // varargs ë°°ì—´ì„ ê·¸ëŒ€ë¡œ ë°˜í™˜
}
```

- ì´ ë©”ì„œë“œê°€ ë°˜í™˜í•˜ëŠ” ë°°ì—´ì€ ì»´íŒŒì¼ ì‹œì ì— `Object[]`ë¡œ ìƒì„±ë˜ë©° ì˜ëª»ëœ íƒ€ì…ìœ¼ë¡œ ê°„ì£¼ë  ìˆ˜ ìˆë‹¤

**ì˜ˆì‹œì½”ë“œ**
```java
public static void main(String[] args) {
    String[] attributes = toArray("ì¢‹ì€", "ë¹ ë¥¸", "ì €ë ´í•œ"); // ClassCastException ë°œìƒ
}
```

- **ë¬¸ì œ** : ì»´íŒŒì¼ëŸ¬ëŠ” ë°°ì—´ì„ `Object[]`ë¡œ ì²˜ë¦¬í•˜ì§€ë§Œ ë°˜í™˜ê°’ì„ `String[]`ë¡œ í˜•ë³€í™˜í•˜ë ¤ë‹¤ ì‹¤íŒ¨í•˜ê²Œ ëœë‹¤

<br>

---

### **3. ì•ˆì „í•œ ì œë„¤ë¦­ ê°€ë³€ì¸ìˆ˜ ë©”ì„œë“œ ì‘ì„±**

- **ì•ˆì „ì„± ì¡°ê±´**
> 1. varargs ë°°ì—´ì— ê°’ì„ ì €ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤
> 2. ë°°ì—´ ì°¸ì¡°ë¥¼ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤

#### **ì˜ˆì œì½”ë“œ : @SafeVarargs**

- ìë°” 7 ì´í›„ `@SafeVarargs` ì• ë„ˆí…Œì´ì…˜ìœ¼ë¡œ ê²½ê³  ì œê±° ê°€ëŠ¥í•˜ë‹¤
- ë©”ì„œë“œê°€ ì•ˆì „í•˜ë‹¤ëŠ” í™•ì‹ ì´ ìˆì„ ë•Œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

```java
@SafeVarargs
static <T> List<T> flatten(List<? extends T>... lists) {
    List<T> result = new ArrayList<>();
    for (List<? extends T> list : lists) {
        result.addAll(list); // ë°°ì—´ ë‚´ìš©ì„ ì½ê¸°ë§Œ í•¨
    }
    return result;
}
```

#### **ì‚¬ìš© ì˜ˆì œì½”ë“œ**

```java
public static void main(String[] args) {
    List<String> list1 = List.of("A", "B");
    List<String> list2 = List.of("C", "D");
    List<String> flattened = flatten(list1, list2);
    System.out.println(flattened); // ì¶œë ¥: [A, B, C, D]
}
```

<br>

---

### **3. ê°€ë³€ì¸ìˆ˜ ë°°ì—´ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ëŒ€ì•ˆ**

- **varargs ë°°ì—´ ëŒ€ì‹  `List` ì‚¬ìš©**
    - ê°€ë³€ì¸ìˆ˜ë¥¼ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•˜ë©° ì»´íŒŒì¼ëŸ¬ê°€ íƒ€ì… ì•ˆì „ì„±ì„ ê²€ì¦í•  ìˆ˜ ìˆë‹¤

#### **ëŒ€ì•ˆ êµ¬í˜„ : List ë§¤ê°œë³€ìˆ˜ ì‚¬ìš©**

```java
static <T> List<T> flatten(List<List<T>> lists) {
    List<T> result = new ArrayList<>();
    for (List<T> list : lists) {
        result.addAll(list);
    }
    return result;
}
```

#### **ì‚¬ìš© ì˜ˆì œì½”ë“œ**

```java
public static void main(String[] args) {
    List<String> list1 = List.of("A", "B");
    List<String> list2 = List.of("C", "D");
    List<String> flattened = flatten(List.of(list1, list2));
    System.out.println(flattened); // ì¶œë ¥: [A, B, C, D]
}
```

- **ì¥ì **
    - íƒ€ì… ì•ˆì „ì„±ì„ ê°•í™”í•  ìˆ˜ ìˆë‹¤
    - `@SafeVarargs` ì• ë„ˆí…Œì´ì…˜ ë¶ˆí•„ìš”í•˜ë‹¤
- **ë‹¨ì **
    - í˜¸ì¶œ ì‹œ `List.of`ë¡œ ê°ì‹¸ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë‹¤

<br>

---

### **4. @SafeVarargs ì‚¬ìš© ê·œì¹™**

- **@SafeVarargs ì ìš© ê°€ëŠ¥ ì¡°ê±´**
>- ë©”ì„œë“œê°€ **ì¬ì •ì˜ ë¶ˆê°€ëŠ¥**(static, final, private)í•´ì•¼í•œë‹¤
>- ë°°ì—´ì— ê°’ì„ ì €ì¥í•˜ê±°ë‚˜ ì°¸ì¡°ë¥¼ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ì§€ ì•Šì•„ì•¼í•œë‹¤

---

> ğŸ’¡ **í•µì‹¬ ì •ë¦¬**
>
> 1. ê°€ë³€ì¸ìˆ˜ì™€ ì œë„¤ë¦­ì€ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ **íƒ€ì… ì•ˆì „ì„±ì´ ê¹¨ì§ˆ ìœ„í—˜**ì´ ìˆë‹¤
> 2. **ì•ˆì „í•œ ë©”ì„œë“œ ì‘ì„±**
>     - ë°°ì—´ì— ê°’ì„ ì €ì¥í•˜ê±°ë‚˜ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ì§€ ë§ ê²ƒ
>     - `@SafeVarargs`ë¥¼ ë¶™ì—¬ ì‚¬ìš©ìì˜ ê²½ê³ ë¥¼ ì œê±°
> 3. ë” ì•ˆì „í•œ ëŒ€ì•ˆì€ **varargs ëŒ€ì‹  `List`ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•** ì´ë‹¤
> 4. ê°€ë³€ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ **PECS(Producer-Extends, Consumer-Super)** ì™€ í•¨ê»˜ íƒ€ì… ì•ˆì „ì„±ì„ ë³´ì¥í•˜ì