# 지역변수의 범위를 최소화하라

## ⛳️ 목표

지역변수의 범위를 최소화해야 하는 이유와 방법을 알아보자

<br>

## 📄 핵심 요약

- 범위를 최소로 줄이면 가독성과 유지보수성이 높아지며 오류 가능성은 낮아진다.
- 필요한 시점에 바로 선언하여 사용해야 한다.
- 선언과 동시에 초기화해야 한다.
- 반복문 사용 시 변수의 범위가 정해지며 for문을 사용하면 가독성이 좋고 예상치 못한 오류를 피할 수 있다.
- 메서드를 한 가지 기능에 집중하게 하여 하나의 변수가 최소한의 범위에서 사용되게 해야 한다.

---

## [1] 가장 처음 쓰일 때 선언하기

- 필요한 시점에 선언하여 사용해야 한다.
- 미리 선언부터 해두면 코드의 가독성이 떨어지고 실제로 사용하는 시점에 초깃값이 기억나지 않을 수 있다.
- 변수가 쓰이는 범위보다 앞서 선언하거나, 다 쓴 뒤에도 남아있다면 예상치 못한 동작이 일어날 수 있다.

<br>

## [2] 선언과 동시에 초기화하기

- 초기화에 필요한 정보가 충분하지 않다면 충분해질 때까지 선언을 미뤄야 한다.
- try-catch는 예외로, 변수를 초기화하는 표현식에서 예외가 발생할 가능성이 있다면 try 블록 안에서 초기화해야 한다.

```java
Class<? extends Set<String>> cons = null;
try {
	cons = cl.getDeclaredConstructor();
} catch (NoSuchMethodException e) {
	fatalError("매개변수 없는 생성자를 찾을 수 없습니다.");
}
```

<br>

## [3] 반복문 중 for문 고려하기

- 반복문에서는 반복 변수의 범위가 반복문의 몸체, 그리고 for 키워드와 몸체 사이의 괄호 안으로 제한된다.
- 반복 변수의 값을 반복문이 종료된 뒤에도 써야 하는 상황이 아니라면 while문보다는 for문을 쓰는 편이 낫다.

<br>

***반복자가 필요한 경우***

```java
for (Iterator<Element> i = c.iterator(); i.hasNext();) {
	Element e = i.next();
	... // e와 i로 무언가를 한다.
}
```

<br>

***잘못 복사 & 붙여 넣기를 한 경우***

```java
// "i를 찾을 수 없다"는 컴파일 오류 발생
for (Iterator<Element> i2 = c2.iterator(); i.hasNext();) {
	Element e2 = i2.next();
	... // e와 i로 무언가를 한다.
}
```

<br>

## [4] 메서드를 작게 유지하고 한 가지 기능에 집중하기

- 한 메서드에서 여러 가지 기능을 처리한다면 그중 한 기능과만 관련된 지역변수라도 다른 기능을 수행하는 코드에서 접근할 수 있을 것이다.
- 메서드를 기능별로 쪼개자.